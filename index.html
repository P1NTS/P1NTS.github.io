<!DOCTYPE html>
<html lang="en">
    <head>
        <title>PINTS</title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900|Material+Icons" rel="stylesheet" type="text/css">
        <link href="https://cdn.jsdelivr.net/npm/quasar@1.9.10/dist/quasar.min.css" rel="stylesheet" type="text/css">
        <link href="https://cdn.jsdelivr.net/npm/animate.css@^3.5.2/animate.min.css" rel="stylesheet">

        <link rel="stylesheet" type="text/css" href="./css/main.css">

        <link
            rel="icon"
            sizes="any"
            href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 10 10'%3E%3Ccircle cx='5' cy='5' r='5' fill='rgb(0, 0, 0)'/%3E%3Ccircle cx='5' cy='2.5' r='1.8' fill='rgb(255, 255, 255)'/%3E%3Ccircle cx='5' cy='3.8' r='1.7' fill='rgb(247, 214, 109)'/%3E%3Ccircle cx='5' cy='5.2' r='1.5' fill='rgb(247, 214, 109)'/%3E%3Ccircle cx='5' cy='6.1' r='1.3' fill='rgb(247, 214, 109)'/%3E%3Ccircle cx='5' cy='4.2' r='0.8' fill='rgb(230, 118, 106)'/%3E%3Ccircle cx='5' cy='5.3' r='0.7' fill='rgb(230, 118, 106)'/%3E%3C/svg%3E"
        >

        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script src="./js/main.js"></script>
    </head>

    <style>
        html, body {
            margin:0;
            padding:0;
        }
        a {
            color: white;
            font-weight: bold;
        }
        a:hover, a:focus, a:active {
            color: #AAA;
        }
        .userIcon {
            width: 32px;
            height: 32px;
            clip-path: circle(16px at center);
        }
        #userAvatar {
            display: none;
        }
        .auth-dialog > div:first-child {
            position: absolute;
            left: 50%;
            top: 50%;
            background: rgba(0,0,0,0.5);
            border: thin solid #777;
            transform: translate(-50%, -50%);
            z-index: 1050;
        }
        #loginStatus a {
            border-bottom: none;
            color: white;
        }
        #loginStatus a:hover {
            /* border-bottom: 1px solid rgb(190, 181, 181); */
            border-bottom: none;
            color: grey;
            opacity: 0.6;
        }
        #firebaseui-auth-container * {
            font-size: 2rem;
        }
        #sign-in p {
            font-weight: 300;
        }
        /* #text {
            position: relative;
            padding:1em;
            padding-top: 5em;
            pointer-events: none;
            background-image: linear-gradient(rgba(20,20,20,0), rgba(20,20,20,0.25), rgba(20,20,20,0.75), rgba(20,20,20,0.75),rgba(20,20,20,0));
            z-index: 100;
        } */
        .textparagraph p {
            width: 100%;
            position:relative;
            padding: 1rem;
            /* background-image: linear-gradient(rgba(20,20,20,0), rgba(20,20,20,0.5), rgba(20,20,20,0.75), rgba(20,20,20,0.5),rgba(20,20,20,0)); */
            background: rgba(0,0,0,0.3);
            line-height: 1.8;
            font-weight: 300;
        }
        #program p {
            width: 100%;
            position:relative;
            margin: 0.3rem 0;
            /* background-image: linear-gradient(rgba(20,20,20,0), rgba(20,20,20,0.5), rgba(20,20,20,0.75), rgba(20,20,20,0.5),rgba(20,20,20,0)); */
            line-height: 1.8;
            font-weight: 300;
        }
        #program p blu {
            color: #c0fefe;
        }
        #program pg {
            width: 100%;
            position:relative;
            margin: 0.3rem 0;
            /* background-image: linear-gradient(rgba(20,20,20,0), rgba(20,20,20,0.5), rgba(20,20,20,0.75), rgba(20,20,20,0.5),rgba(20,20,20,0)); */
            line-height: 1.8;
            font-weight: 300;
            color: #aaaaaa;
        }
        #landinggraph a, #program a, #bestexperience a, #submit a, #register a {
            font-weight: 700;
            text-decoration: none;
            border: none;
        }
        #landinggraph a:hover,
        #landinggraph a:focus,
        #landinggraph a:active,
        #program a:hover,
        #program a:focus,
        #program a:active,
        #bestexperience a:hover,
        #bestexperience a:focus,
        #bestexperience a:active,
        #submit a:hover,
        #submit a:focus,
        #submit a:active,
        #register a:hover,
        #register a:focus,
        #register a:active {
            font-weight: 700;
            text-decoration: none;
            border: none;
            color: grey;
        }
        #organizers a {
            font-weight: 500;
            text-decoration: none;
            border: none;
        }
        #organizers a:hover,
        #organizers a:focus,
        #organizers a:active {
            font-weight: 500;
            text-decoration: none;
            border: none;
            color: grey;
        }
        #CoC p {
            width: 100%;
            position:relative;
            line-height: 1.8;
            font-weight: 300;
        }
        #CoC a {
            font-weight: 500;
            text-decoration: none;
            border: none;
        }
        #CoC a:hover,#CoC a:focus,#CoC a:active {
            font-weight: 500;
            text-decoration: none;
            border: none;
            color: grey;
        }
        h4 {
            font-weight: 600;
        }

        /* first page container */
        #community {
            display:flex;
            flex-direction: column;
            width: 100%;
            height: 100vh;

            background-image: url("./images/landing/networkgraph_bg.jpg");
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            /* justify-content: space-around;
            align-items: center; */
            /* background-image: url("./images/landing/networkgraph_bg.jpg"); */
        }
        #conftitle h1 {
            font-family: 'Roboto', sans-serif !important;
            line-height: 1.2 !important;
            letter-spacing: normal;
            font-size: 6.8rem;
            font-weight: 900;
            opacity: 1.0;
        }
        #conftitle {
            padding-top: 10vh;
            padding-left: 5%;
            flex-shrink: 1;
            font-family: 'Roboto', sans-serif !important;
            line-height: 1.2 !important;
            letter-spacing: normal;
            font-size: 4.8rem;
            font-weight: 900;
            opacity: 1.0;
            background: none!important;
            z-index:51;
        }
        #networkContainer {
            flex-grow: 1;
        }
        #networkInfo {
            z-index: 50;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
            color: #AAA;
            padding: 2% 3%;
            font-size: 2rem;
            text-align: right;
            position: absolute;
            bottom: 2%;
            right: 2%;
        }
        #networkInfo a {
            color: white;
            font-weight: bold;
            display: inline-block;
            font-size: 2rem;
            background: rgba(1,1,1,.3);
            padding: 10px;
        }
        #networkInfo a:hover, #networkInfo a:focus, #networkInfo a:active {
            color: #AAA;
        }
        #network {
            z-index: 50;
            flex-grow: 1;
            display: flex;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }
        @media only screen and (-webkit-max-device-pixel-ratio: 2) and (min-width: 900px) {
            #network svg text {
                font-size: 1.5rem !important;
            }
        }
        #network svg {
            flex-grow: 1;
        }

        @keyframes shinebrightlikeadiamond {
            0% { stroke-width: 0; stroke-opacity: 1; }
            70% { stroke-width: 10px; stroke-opacity: 0.5; }
            100% { stroke-width: 0; stroke-opacity: 0; }
        } 
        #network svg circle.logged {
            stroke-width: 0;
            stroke: #DDD;
            animation: shinebrightlikeadiamond 1s ease infinite;
        }
        #network svg .link {
            stroke: #fff;
            stroke-opacity: 0.2;
        }
        #network svg .name {
            fill: rgb(255,255,255,0.3);
            font-size: 0.7rem;
        }
        #network svg circle:hover + .name{
            fill: rgb(255,255,255,1);
        }
        #network svg text {
            cursor: default;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            pointer-events: none;
        }
        #network svg text::selection {
            background: none;
        }
        /* [v-cloak] {
            display: none;
        } */
        .col a:hover, .col a:focus, .col a:active, .text-h6 a:hover, .text-h6 a:focus, .text-h6 a:active {
            color: grey!important;
        }
        .row {
            margin-left: 0 !important;
            margin-right: 0 !important;
        }
        .col {
            padding-left: 0 !important;
            padding-right: 0 !important;
        }
        #landinggraph {
            padding-top: 3rem;
            padding-bottom: 6rem;
            background: rgba(0,0,0,0.8);
            background-image: url('./images/landing/background_s.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #landinggraph p, #bestexperience p, #submit p, #register p, #organizers p {
            background: none;
            padding-top: 0.6rem;
            line-height: 1.8;
            font-weight: 300;
        }

        #program {
            /* background: rgba(30,0,0,0.5); */
            padding-bottom: 6rem;
            background-color: rgba(0,0,0,0.0);
            /* background: rgba(0,0,0,0.8); */
            background-image: url('./images/landing/background.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #program .container {
            padding-left: 0;
            padding-right: 0;
        }
        #programTableContainer {
            width: 100%;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            position: relative;
        }
        .programTableHeader {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            position: relative;
        }
        #programTableDays {
            display: flex;
            flex-direction: row;
            align-items: start;
            width: 100%;
            /* background-image: url('./images/landing/program_bg.jpg'); */
        }
        .programDayHeader {
            display: flex;
            flex-direction: row;
            width: 100%;
            position: relative;
            padding-bottom: 2rem;
            /* background: rgba(255,255,255,0.8);
            color: black;
            padding-left: 1%; */
        }
        .programDayHeader p {
            font-weight: 900!important;
        }
        #programDay1 {
            display: flex;
            /* width: 50%; */
            width: 100%;
            flex-direction: column;
            justify-content: flex-start;
            position: relative;
            align-items: baseline;
            padding-left: 1%;
            padding-right: 1%;
            padding-bottom: 1%;
            /* padding-bottom: 1%; */
            margin-right: 1%;
            /* background: rgba(255,255,255,0.05); */
            background: rgba(15,15,15,0.8);
            /* border: thin solid white; */
            flex-shrink: 1;
        }
        .programSessionsEmpty {
            display: flex;
            flex-direction: row;
            width: 100%;
            position: relative;
            height: 0rem;
            background: rgba(255,255,255,0.11);
        }
        /* .programSessions {
            display: flex;
            position: relative;
            width: 100%;
            flex-direction: row;
            justify-content: flex-start;
            background: rgba(255,255,255,0.8);
            color: black;
            padding-left: 1%;
        } */
        .programTableContentUneven {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: baseline;
            align-content: space-between;
            position: relative;
            /* width: calc( 100% - 10px ); */
            width: 100%;
            background: rgba(255,255,255,0.17);
            margin: 0px;
            z-index: 1;
        }
        .programTableContentEven {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: baseline;
            align-content: space-between;
            position: relative;
            /* width: calc( 100% - 10px ); */
            width: 100%;
            background: rgba(255,255,255,0.02);
            margin: 0px;
            z-index: 1;
        }
        .programTableContentUnevenContrib {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: baseline;
            align-content: space-between;
            position: relative;
            /* width: calc( 100% - 10px ); */
            width: 100%;
            background: rgba(255,255,255,0.11);
            margin: 0px;
            z-index: 1;
        }
        .programTableContentEvenContrib {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: baseline;
            align-content: space-between;
            position: relative;
            /* width: calc( 100% - 10px ); */
            width: 100%;
            background: rgba(255,255,255,0.06);
            margin: 0px;
            z-index: 1;
        }
        @media (max-width: 900px) {
            .programTableContentUnevenContrib {
                flex-direction: column;
            }
            .programTableContentEvenContrib {
                flex-direction: column;
            }
            .programTableContentUnevenContrib > div:nth-child(1) > p {
                font-weight: bold !important;
            }
            .programTableContentEvenContrib > div:nth-child(1) > p {
                font-weight: bold !important;
            }
        }
        .programTableItems {
            border: 0;
            flex: 1 1 100%;
            position: relative;
            margin: 0.5rem;
        }
        #programDay1 p {
            background: none;
        }
        #programDay2 p {
            background: none;
        }
        .programSessions {
            display: flex;
            position: relative;
            width: 100%;
            flex-direction: row;
            justify-content: flex-start;
            background: rgba(255,255,255,0.8);
            color: black;
            padding-left: 1%;
        }
        .programSessionInfo {
            display: flex;
            position: relative;
            width: 100%;
            flex-direction: row;
            justify-content: flex-start;
            background: rgba(255,255,255,0.18);
            color: white;
            padding-left: 1%;
        }
        #bestexperience {
            padding-top: 6rem;
            padding-bottom: 6rem;
            background: rgba(0,0,0,0.8);
            background-image: url('./images/landing/background_s.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #bestexperience b {
            font-weight: 600;
        }
        #posterlist {
            padding-top: 6rem;
            padding-bottom: 6rem;
            background: rgba(0,0,0,0.8);
            background-image: url('./images/landing/background.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #posterlist p {
            line-height: 1.3;
            font-size: 2rem;
            font-weight: 300;
            margin-top: 1rem;
        }
        .posterUneven {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: baseline;
            align-content: space-between;
            position: relative;
            /* width: calc( 100% - 10px ); */
            width: 100%;
            background: rgba(255,255,255,0.3);
            margin: 0px;
            z-index: 1;
        }
        .posterEven {
            display: flex;
            flex-direction: row;
            justify-content: space-between;
            align-items: baseline;
            align-content: space-between;
            position: relative;
            /* width: calc( 100% - 10px ); */
            width: 100%;
            background: rgba(255,255,255,0.1);
            margin: 0px;
            z-index: 1;
        }
        #submit {
            /* background: rgba(220, 220, 220, 0.1); */
            padding-top: 6rem;
            padding-bottom: 6rem;
            background: rgba(0,0,0,0.8);
            background-image: url('./images/landing/background_s.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #submit li {
            background: none;
            /* padding-top: 0.6rem; */
            line-height: 1.8;
            font-size: 2rem;
            font-weight: 300;
        }
        #register {
            /* background: rgba(0, 0, 0, 0.1); */
            padding-top: 6rem;
            padding-bottom: 6rem;
            background: rgba(0,0,0,0.8);
            background-image: url('./images/landing/background.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #organizers {
            /* background: rgba(220, 220, 220, 0.1); */
            padding-top: 6rem;
            padding-bottom: 6rem;
            background: rgba(0,0,0,0.8);
            background-image: url('./images/landing/background_s.jpg');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            -webkit-background-size: cover;
            -moz-background-size: cover;
            -o-background-size: cover;
            background-position: center;
            filter: grayscale(1%) contrast(110%) opacity(30%);
            -webkit-filter: grayscale(1%) contrast(110%) opacity(100%);
        }
        #organizerColumns {
            width: 100%;
            display: flex;
            flex-direction: row;
            justify-content: flex-start;
            position: relative;
            /* background: rgba(150,150,150,0.1); */
        }
        #organizerColumnLeft {
            display: flex;
            width: 50%;
            flex-direction: column;
            justify-content: flex-start;
            position: relative;
            align-items: baseline;
            padding-left: 1%;
            padding-right: 1%;
            margin-right: 2%;
            /* background: rgba(150,150,150,0.1); */
        }
        #organizerColumnRight {
            display: flex;
            width: 50%;
            flex-direction: column;
            justify-content: flex-start;
            position: relative;
            align-items: baseline;
            padding-left: 1%;
            padding-right: 1%;
            margin-left: 2%;
            /* background: rgba(150,150,150,0.1); */
        }
        /* #organizerCardContainer {
            display: flex;
            width: 100%;
            flex-direction: column;
            justify-content: flex-start;
            position: relative;
            align-items: baseline;
            padding-left: 1%;
            padding-right: 1%; */
            /* margin-right: 1%; */
            /* background: rgba(150,150,150,0.1); */
        /* } */
        .organizerCard {
            flex: 1 1 25%;
            padding: 1%;
            position: relative;
            /* background: rgba(15,15,15,0.1); */
            /* margin: 1%; */
        }

        [v-cloak] {
            display: none;
        }
    </style>

    <body>
        <!-- navigation bar -->
        <!-- data value of nav bar corresponds to id in each section -->
        <nav class="navbar navbar-expand-lg fixed-top ">


            <button class="navbar-toggler landing-page myCollapsedMenuBarIcon" id="myMenuBtn" type="button" data-toggle="collapse" data-target="#myMenu" aria-controls="myMenu" aria-expanded="false" aria-label="Toggle navigation" style="padding:0;border:none; width:1.5em;height:1.5em;" onclick="this.blur();">
            </button>

            <div class="collapse navbar-collapse" id="myMenu" style="width:100%;">
                <ul class="navbar-nav mr-4" >
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="/">PINTS</a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" data-value="landinggraph" href="#">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-value="program" href="#">Program</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-value="submit" href="#">Submit</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" data-value="posterlist" href="#">Posterlist</a>
                    </li> -->
                    <!-- <li class="nav-item"> -->
                        <!-- <a class="nav-link" href="./posterwall/">Posterwall</a> -->
                        <!-- <a class="nav-link" href="https://netneurosci.github.io/networks2021satellite/posterwall"</a>
                    </li> -->
                    <li class="nav-item">
                        <a class="nav-link" data-value="register" href="#">Register</a>
                    </li>
                    <!-- <li class="nav-item">
                        <a class="nav-link" href="./videoconference/">Videoconference</a>
                    </li> -->
                    <li class="nav-item">
                        <span class="nav-link" id="loginStatus" style="border-bottom:none"></span>
                    </li>
                    <li class="nav-item" id="userAvatar">
                        <img class="userIcon"/>
                    </li>
                </ul>
            </div>
        </nav>

        <div id="q-app">

            <!-- part 1: Community network : PINTS community -->
            <!-- div that overlays text fields on landing page community graph -->
            <div id="community">
                <div id="conftitle">
                    <!-- <h1 style="font-size:xx-large">PINTS symposium. </h1>
                    <h1 style="font-size:large">Paris √éle-de-France Neural Theory Symposium</h1> -->
                    <img src="./images/logo/logo_font.png" style="width:50%;max-width: 500px;"></img>
                </div>

                <div id="networkContainer">
                    <div id="network"></div>
                    <div id="networkInfo" v-if="!spinning && !userSignedIn">
                        <a href="#" onclick="signIn(app)">Join the network!</a>
                    </div>
                </div>

                <q-spinner-ball
                    color="white"
                    size="4em"
                    v-if="spinning"
                    style="position:absolute;top:50%;left:50%;transform: translate( -50%, -50%);z-index:1000"
                >
                </q-spinner-ball>

                <q-dialog v-model="displaySignIn" id="sign-in">
                    <q-card>
                        <q-card-section>
                            <p>
                            This is the <strong>PINTS</strong> community graph.
                            Add yourself to the graph by signing in with GitHub,
                            add your skills to take your place in the network graph.
                            </p>
                            <p>
                            The PINTS community is part of the larger <a href="https://brain-web.github.io">BrainWeb community</a>
                            and you can explore your connections within the wider network.
                            </p>
                            <p class="disclaimer">Please note that this is not a sign in/registration to the symposium.</p>
                            <div id="firebaseui-auth-container"></div>
                        </q-card-section>
                    </q-card>
                </q-dialog>

                <div class="container" style="margin-top: 0">

                    <div v-cloak v-if="!spinning" class="row">
                        <!-- Person's card -->
                        <div v-if="cardDisplayName !== userDisplayName">
                            <q-dialog v-model="displayCard">
                                <q-card style="height:400px;width:400px">
                                    <q-card-section>
                                        <q-chip>
                                            <q-avatar round size="48px">
                                                <img :src="`https://avatars3.githubusercontent.com/u/${cardUID}?v=4`" />
                                            </q-avatar>
                                            <a v-cloak v-if="!spinning" class="col text-h6" :href="`https://github.com/${cardGitHubName}`">
                                                {{cardDisplayName}}
                                            </a>
                                        </q-chip>
                                    </q-card-section>
                                    <q-card-section style="background: hsla(0,0%,100%,0.07);border-radius:4px 4px 0 0;margin:16px">
                                        <q-chip v-cloak v-if="!spinning" color="dark" v-for="skill in cardSkills">
                                            {{skill}}
                                        </q-chip>
                                    </q-card-section>
                                </q-card>
                            </q-dialog>
                        </div>
                        <div v-else>
                            <q-dialog v-model="displayCard" @hide="draw">
                                <q-card style="height:400px;width:400px">
                                    <q-card-section>
                                        <q-chip>
                                            <q-avatar round size="48px">
                                                <img :src="`https://avatars3.githubusercontent.com/u/${uid}?v=4`" />
                                            </q-avatar>
                                            <a v-cloak v-if="!spinning" class="col text-h6" :href="`https://github.com/${userGitHubName}`">
                                                {{userDisplayName}}
                                            </a>
                                        </q-chip>
                                    </q-card-section>
                                    <q-card-section>
                                        <q-select
                                            label="Skills"
                                            filled
                                            v-model="people[people.map((o)=>o.uid).indexOf(uid)].skills"
                                            use-input
                                            use-chips
                                            multiple
                                            hide-dropdown-icon
                                            input-debounce="0"
                                            new-value-mode="add-unique"
                                            :options="options"
                                            @filter="filterFn"
                                            @new-value="createValue"
                                        ></q-select>
                                    </q-card-section>
                                </q-card>
                            </q-dialog>
                        </div>
                    </div>

                </div>
            </div>
            <!-- end of div that overlays text fields on landing page community graph -->


            <!-- part 1 landing network graph and about -->
            <div v-cloak v-if="!spinning" class="row" id="landinggraph">
                <div v-cloak v-if="!spinning" class="container" style="background: rgba(0,0,0,0.3);">
                    <h4>Paris computational and systems neuroscience symposium, June 2nd 2022</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div v-cloak v-if="!spinning" id="programTableContainer">
                            <div v-cloak v-if="!spinning" class="programTableDescription" style="margin-bottom:2rem;">
                                <p>
                                    <br /><b style="font-weight: 900;">Location:</b> Jean-Jaures Auditorium, Ecole Normale Superieure, 29 Rue d‚ÄôUlm (click <a href="https://cognition.ens.fr/sites/cognition.ens.fr/files/2022-02/PlanAccesJaures.pdf" target="_blank">here</a> to download a map to locate the auditorium)
                                    <!-- The PINTS symposium on <b>Thursday, June 2nd 2022</b> aims at bringing together... This symposium is meant to be an open platform for discussion between ..., and to foster interactions between topics/systems which normally have few occasions to interact. -->
                                </p>
                            </div>
                            <div class="programTableDescription">
                                <div style="filter: grayscale(50%) contrast(100%) opacity(100%);
                                -webkit-filter: grayscale(50%) contrast(100%) opacity(100%);">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2625.793304532626!2d2.3444769515440713!3d48.843081179184445!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e671e905a58849%3A0x6c1d0dc24c54a979!2s24%20Rue%20Lhomond%2C%2075005%20Paris!5e0!3m2!1sen!2sfr!4v1654012922371!5m2!1sen!2sfr" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                                </div>
                                    <!-- <div><p><br /></p></div> -->
                            </div>

                        </div> <!--programTableContainer-->

                    </div> <!--row of landinggraph section-->

                </div> <!--container of landinggraph section-->

            </div> <!--landinggraph div-->



            <!-- part 2 Program -->
            <div v-cloak v-if="!spinning" id="program" class="row">
                <div v-cloak v-if="!spinning" class="container">
                    <h4>Schedule</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div id="programTableContainer">
                            <!-- <div class="programTableHeader">
                                <h5>Thursday, June 2nd</h5>
                            </div> -->
                            <!-- <div class="textparagraph">
                                <p>
                                    The PINTS symposium will take place on June 2. <br />
                                </p>
                            </div>
                            <div class="programTableHeader">
                                <h5>Schedule</h5>
                            </div> -->
                            <div id="programTableDays">
                                <div id="programDay1">

                                    <div class="programDayHeader">
                                        <p><b>Thursday, June 2nd</b></p>
                                    </div> <!--programDay-->

                                    <!-- <div id="programDay1Before" class="programSessionsEmpty"> -->
                                        <!-- <div><p>empty</p></div> -->
                                    <!-- </div>  -->
                                    <!--programSessions-->

                                    <div class="programTableContentUneven">
                                        <div class="programTableItems"><p>9.20 ‚Äì 9.30 AM</p></div>
                                        <div class="programTableItems"><p>Greeting from the organisers</p></div>
                                    </div> <!--programTableContentUneven-->

                                    <!-- <div class="programTableContentEven">
                                        <div class="programTableItems"><p>12:30 ‚Äì 13:30 UTC+1h</p></div>
                                        <div class="programTableItems"><p>Lunch</p></div>
                                    </div> --> <!-- programTableContentEven -->

                                    <div class="programSessions">
                                        <p><b>Session 1</b><br><i>Start at 9:30 AM </i></p>
                                    </div> <!--programSessions-->

                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Matthew Chalk, Institut de la Vision,<a href="https://www.institut-vision.org" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Using human feedback to optimise vision restoration</i></p></div>
                                    </div>
                                    <!-- <div class="programTableContentEvenContrib"> -->
                                    <div class="programTableContentEvenContrib">
                                        <div class="programTableItems"><p>Catherine Tallon-Baudry, ENS-PSL D√©partement d'Etudes Cognitives,<a href="https://cognition.ens.fr/en/member/672/catherine-tallon-baudry" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Subjectivity, brain & viscera</i></p></div>
                                    </div>
                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Michael Zugaro, Coll√®ge de France,<a href="https://www.college-de-france.fr/site/en-cirb/zugaro.htm" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Hippocampo-cortical dynamics underlying memory formation and consolidation</i></p></div>
                                    </div>

                                    <!--programTableContentUneven-->
                                    <div class="programTableContentEven">
                                        <div class="programTableItems"><p>11 ‚Äì 11:30 </p></div>
                                        <div class="programTableItems"><p>Break</p></div>
                                    </div> <!--programTableContentEven-->

                                    <div class="programSessions">
                                        <p><b>Session 2</b><br><i>Start at 11:30 </i></p>
                                    </div> <!--programSessions-->

                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Roberto Toro, Institut Pasteur,<a href="https://research.pasteur.fr/en/member/roberto-toro" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>How to network</i></p></div>
                                    </div> <!--programTableContentUneven-->

                                    <div class="programTableContentEvenContrib">
                                        <div class="programTableItems"><p>Timo van Kerkoerle, NeuroSpin, <a href="https://neuropsi.cnrs.fr/en/events/timo-kerkoerle" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Reversible symbolic reference: A potential singularity of the human brain</i></p></div>
                                    </div>
                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Justine Cassell (Plenary, 45 mins), PRAIRIE & Carnegie Mellon,<a href="http://www.justinecassell.com" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i></i></p></div>
                                    </div>
                                    <!-- <div class="programTableContentEvenContrib">
                                        <div class="programTableItems"><p>Lunch</p></div>
                                        <div class="programTableItems"><p><i></i></p></div>
                                    </div> -->
                                    <!--programTableContentUneven-->
                                    <div class="programTableContentEven">
                                        <div class="programTableItems"><p>13.00 ‚Äì 14:00 </p></div>
                                        <div class="programTableItems"><p>Lunch</p></div>
                                    </div> <!--programTableContentEven-->


                                    <div class="programSessions">
                                        <p><b>Session 3</b><br><i>Start at 14:00</i></p>
                                    </div> <!--programSessions-->

                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Brice Bathellier, Institut de l'Audition, <a href="https://www.bathellier-lab.org" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Awake perception is associated with dedicated neuronal assemblies in cerebral cortex</i></p></div>
                                    </div>
                                    <!-- <div class="programTableContentEvenContrib"> -->
                                    <div class="programTableContentEvenContrib">
                                        <div class="programTableItems"><p>Jean-Baptiste Masson, Institut Pasteur, <a href="https://research.pasteur.fr/en/member/jean-baptiste-masson" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Towards inferring neural connectome modification from behavioral anomalies</i></p></div>
                                    </div>
                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Claire Sergent, INCC, <a href="https://incc-paris.fr/people/claire-sergent" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i></i></p></div>
                                    </div>

                                    <div class="programTableContentEven">
                                        <div class="programTableItems"><p>15:30 ‚Äì 16:00 </p></div>
                                        <div class="programTableItems"><p>Break</p></div>
                                    </div> <!--programTableContentEven-->

                                    <div class="programSessions">
                                        <p><b>Session 4</b><br><i>Start at 16:00 </i></p>
                                    </div> <!--programSessions-->

                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>Virginie van Wassenhove, NeuroSpin, <a href="https://brainthemind.com/virginie-van-wassenhove" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p></p></div>
                                    </div> <!--programTableContentUneven-->

                                    <div class="programTableContentEvenContrib">
                                        <div class="programTableItems"><p>Vincent Hakim, ENS-PSL Physics, <a href="http://www.lps.ens.fr/~hakim" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>Beta oscillations and waves in motor cortex</i></p></div>
                                    </div>
                                    <div class="programTableContentUnevenContrib">
                                        <div class="programTableItems"><p>David DiGregorio, Institut Pasteur, <a href="https://research.pasteur.fr/en/team/dynamic-neuronal-imaging" target="_blank" style="font-weight: 300;">  (Website)</a></p></div>
                                        <div class="programTableItems"><p><i>A synaptic mechanism for encoding time within neural circuits </i></p></div>
                                    </div>


                                    <!--programTableContentUneven-->
                                    <div class="programTableContentEven">
                                        <div class="programTableItems"><p>17:30</p></div>
                                        <div class="programTableItems"><p>Reception</p></div>
                                    </div> <!--programTableContentEven-->


                                </div> <!--programDay1-->


                            </div> <!--programTableDays-->


                            <!-- <div class="programTableHeader">
                                <h5 style="padding-top: 6rem;">Posters & Oral presentations</h5><br/><br/>
                            </div>
                            <div class="textparagraph">
                                <p>
                                    The PINTS will include a number of posters contributed by submission. For the poster sessions we will provide a friendly, robust, and inclusive platform to maximize the quality of the interactions. All posters are integrated into the PINTS <a href="https://P1NTS.github.io/P1NTS/posterwall">posterwall</a>. Each poster will have its own associated video chat room throughout the duration of the symposium and beyond, and you will see which poster room is active and how many people are currently discussing there on the poster room page. You can see an <a href="https://netneurosci.github.io/networks2021satellite/posterrooms">example poster room</a> here until we finalise the real ones for this year. <br /> -->

                                    <!--If you would like to present your work, please, <a href="" target="_blank">follow this link</a>, select the type of contribution and submit your abstract by Date x. Detailed information can be found <a href="#submit">below.</a><br>-->
                                    <!-- <pcolor color="blue">How to get the best conference experience</pcolor>
                                </p>
                            </div> -->

                        </div> <!--programTableContainer-->

                    </div> <!--row of program section-->

                </div> <!--container of program section-->

            </div> <!--program-->


            <!-- part 2.5 best experience -->
            <div v-cloak v-if="!spinning" class="row" id="bestexperience">
                <div v-cloak v-if="!spinning" class="container" style="background: rgba(0,0,0,0.3);">
                    <h4>How to get the best symposium experience</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div id="programTableContainer">
                            <div class="programTableDescription" style="padding-bottom:2rem;">
                                <p>
                                    <b>LogIn please  </b>&nbsp;<span style="font-size:40px;">üóù</span><br />
                                    Go to the<a href="https://P1NTS.github.io"> main page</a> and log in with GitHub. This will add you into the network graph of computational and systems neuroscience enthusiasts üíõ and allow you to discover your like-minded neighbours.<br />
                                    If you do not have a GitHub account yet, you can easily create one at <a href="https://github.com">https://github.com</a>, providing your email address, user name and real name (full name is not obligatory but we recommend it.)
                                </p>

                                <p>
                                    <b>Posterwall Chat  </b></b>&nbsp;<span style="font-size:40px;">üí¨</span><br />
                                    <!-- When you click on the example <a href="https://netneurosci.github.io/networks2021satellite/posterwall">posterwall tab</a>, you will see the chat window on the side of the posterwall. You will be part of the "main room" chat window to interact with all participants. This chat will be available beyond the conference. You can also search for attendees to send them a direct message. -->
                                    Our posterwall will have a main chat window to interact with all participants. This chat will be available beyond the conference. You can also search for attendees to send them a direct message, or create groups, and leave a message to coordinate poster visits.
                                </p>
                                <p>
                                    <b >Poster video chat rooms  </b>&nbsp;<span style="font-size:40px;">üé•</span><br />
                                    will be linked from that same page once the symposium is running, and posters where people are connected will be highlighted on the posterwall, showing a little number of how many people are connected to the poster. We recommend to use Chrome browser as the rooms rely on jitsi. But other browsers should work fine as well.<br />
                                    In your poster room, you can video chat with people, and also share your screen for additional or interactive content. You could, for example, open your poster and walk people through. Note: this chat will currently not be saved once you leave the room. Work in progress to have a persistent individual poster room chat ü§©.<br />
                                    <!-- üé• üé• You can have several poster rooms open simultaneously. Each room will open in a new tab. This allows you, for example, to keep an eye on your own room while visiting other posters and either inviting interested guests from your own poster to another room first, and then hop over to yours together later, or just quit the other room and join your visitor. Important: Just make sure you are <b>muted in all but one</b> of the jitsi rooms.  -->
                                </p>
                                <p>Sounds good? Submit! Detailed info for poster submission can be found <a href="#submit">below.</a></p>
                            </div>

                        </div> <!--programTableContainer-->

                    </div> <!--row of best experience section-->

                </div> <!--container of best experience section-->

            </div> <!--best experience div-->


            <!-- part 2.75 poster list -->
            <!-- <div v-cloak v-if="!spinning" class="row" id="posterlist">
                <div v-cloak v-if="!spinning" class="container" style="background: rgba(0,0,0,0.3);">
                    <h4 >Posters at the PINTS 2022 symposium</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div id="programTableContainer">
                            <div class="programTableDescription" style="padding-bottom:2rem;">
                                <p style="margin-bottom:3rem;">
                                    Here is a list of all posters, alphabetically sorted. Click on the poster to open it in its exact position on the posterwall. We will have the zoomable posterwall and also a virtual posterwall where you can meet and interact with participants in VR.<br />
                                </p> -->

                                <!-- <p>
                                    <a href="https://P1NTS.github.io/posterwall/#zoom=8.916100448255998&x=0.05243432987438438&y=0.037816166561716456" style=color:rgba(255,255,255,1.0);font-weight:300;>First presenter et al.  First title</a><br />
                                </p>
                                <p>
                                    <a href="https://P1NTS.github.io/posterwall/#zoom=8.916100448255998&x=0.05368707684597979&y=0.25316243373892555" style=color:rgba(255,255,255,0.8);font-weight:300;>Second presenter et al.  Second title</a><br />
                                </p> -->
                                <!-- <p>
                                    <a href="https://netneurosci.github.io/networks2021satellite/posterwall/#zoom=8.916100448255998&x=0.05243432987438438&y=0.037816166561716456" style=color:rgba(255,255,255,1.0);font-weight:300;>Kausar Abbas et al.  Tangent Space Projections of Functional Connectomes improve their phenotypic reliability, as measured by their fingerprint gradient</a><br />
                                </p>
                                <p>
                                    <a href="https://netneurosci.github.io/networks2021satellite/posterwall/#zoom=8.916100448255998&x=0.05368707684597979&y=0.25316243373892555" style=color:rgba(255,255,255,0.8);font-weight:300;>Timofey Adamovich et al.  Graph invariants approach to classification of brain functional connectivity patterns</a><br />
                                </p>
                            </div>

                        </div>  -->
                        <!--programTableContainer-->

                    <!-- </div>  -->
                    <!--row of best experience section-->

                <!-- </div>  -->
                <!--container of best experience section-->

            <!-- </div> -->
            <!--best experience div-->



            <!-- part 3 Submit -->
            <div v-cloak v-if="!spinning" class="row" id="submit">
                <div v-cloak v-if="!spinning" class="container" style="background: rgba(0,0,0,0.3);">
                    <h4>Submit your poster</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div id="programTableContainer">
                            <div class="programTableDescription" style="padding-bottom:2rem;">
                                <p>
                                    To see your work on our interactive zoomable poster wall, please prepare a poster in square shape 100*100cm and high resolution, and upload to <a href="https://drive.google.com/drive/folders/12K5tBggdxJClYCaR2salKMWhR5gHLnO2?usp=sharing" target="_blank">our drive</a>. 
                                    <!-- We will be holding a dedicated session for the posters. <br/>
                                     -->
                                </p>
                                <!-- <p>
                                    We welcome submissions from all areas of systems and computational neuroscience, including (but not limited to):
                                    <ul>
                                        <li>one;</li>
                                        <li>two.</li>
                                    </ul>
                                </p> -->
                            </div>

                        </div> 
                        <!--programTableContainer-->

                    </div> 
                    <!--row of submission section-->

                </div> 
                <!--container of submission section-->

            </div> 
            <!--submission div-->



            <!-- part 4 Register -->
            <div v-cloak v-if="!spinning" class="row" id="register">
                <div v-cloak v-if="!spinning" class="container" style="background: rgba(0,0,0,0.3);">
                    <h4>Register</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div id="programTableContainer">
                            <div class="programTableDescription" style="margin-bottom:2rem;">
                                <p>
                                    Registration is free but please sign up for PINTS on <a href="https://www.eventbrite.fr/e/billets-paris-ile-de-france-neural-theory-symposium-330461297637" target="_blank">Eventbrite </a>. <br />
                                    <br />
                                    For catering, please sign up <a href="https://docs.google.com/forms/d/e/1FAIpQLSdILPigaKqiBEEENJ2nFh4tSU0Wh4vqkjsVGErz9Qig6hd7QQ/viewform" target="_blank">here</a> so we can organise coffee and lunch.<br />
                                    <!-- So please quickly fill in <a href="https://somegoogleform">this form</a> to let us know whether you will join online or on-site and if you have any food intolerances. <br /> -->
                                   <br/>
                                </p>
                                <p>
                                    Please also <a href="#" onclick="signIn(app)">add yourself to the PINTS graph</a> to join our community as a part of the larger BrainWeb community. Once you logged in, your name should be an isolated dot flying around. Find it, click on it, and add your skills. That will start to create links with others, and you'll become part of the cluster of people sharing similar skills. Please keep the "pints" term in your skills panel to be part of the PINTS graph. You can learn more about others by clicking on their dots.
                                </p>
                            </div>

                        </div> <!--programTableContainer-->

                    </div> <!--row of registration section-->

                </div> <!--container of registration section-->

            </div> <!--registration div-->



            <!-- part 5 Organisers -->
            <div v-cloak v-if="!spinning" class="row" id="organizers">
                <div v-cloak v-if="!spinning" class="container" style="background: rgba(0,0,0,0.2);">
                    <h4>Team of organizers</h4>
                    <div v-cloak v-if="!spinning" class="row">

                        <div id="programTableContainer">
                            <div class="programTableDescription" style="padding-bottom:2rem;">
                                <div id="organizerColumns">
                                    <div id="organizerColumnLeft">
                                        <div class="organizerCard">
                                            <p>
                                                <a href="https://fairhalllab.com">Adrienne Fairhall</a> (Fairhall Lab, Computational neuroscience, University of Washington)<br/>
                                                <a style="font-weight: 300;" href="https://twitter.com/alfairhall"><img style="width:1.8rem;transform:translate(0,0px);margin-right:5px;" src="./images/landing/twitter_white.png" /img>@alfairhall</a>
                                            </p>
                                        </div>
                                    </div><!--organizerColumn left-->

                                    <div id="organizerColumnRight">

                                        <div class="organizerCard">
                                            <p>
                                                <a href="https://caycogajiclab.github.io">Alex Cayco Gajic</a> (The Cayco Gajic Lab, Mathematics of neural circuits, √âcole Normale Sup√©rieure, Paris)<br/>
                                                <!-- <a style="font-weight: 300;" href="https://twitter.com/"><img style="width:1.8rem;transform:translate(0,0px);margin-right:5px;" src="./images/landing/twitter_white.png" /img>@</a> -->
                                            </p>
                                        </div>
                                        <!-- <div class="organizerCard">
                                            <p>
                                                <a href="https://research.pasteur.fr/en/member/roberto-toro">Roberto Toro</a> (Applied and Theoretical Neuroanatomy lab, Institut Pasteur Paris) <br/>
                                                <a style="font-weight: 300;" href="https://twitter.com/R3RT0"><img style="width:1.8rem;transform:translate(0,0px);margin-right:5px;" src="./images/landing/twitter_white.png" /img>@R3RT0</a>
                                            </p>
                                        </div>
                                        <div class="organizerCard">
                                            <p>
                                                <a href="https://www.researchgate.net/profile/Katja-Heuer-2">Katja Heuer</a> (postdoc in the Applied and Theoretical Neuroanatomy lab)<br/>
                                                <a style="font-weight: 300;" href="https://twitter.com/katjaQheuer"><img style="width:1.8rem;transform:translate(0,0px);margin-right:5px;" src="./images/landing/twitter_white.png" /img>@katjaqheuer</a></p>
                                        </div> -->
                                    </div>
                                    <!--organizerColumn right-->
                                </div> <!--organizerColumns-->
                            </div> <!--programTableDescription-->

                        </div> <!--programTableContainer-->

                    </div> <!--row of organizer section-->

                </div> <!--container of organizer section-->

            </div> <!--organizers div-->



            <!-- footer -->
            <div class="row" id="CoC" v-if="!spinning" style="width:100%; position:relative; bottom:0px; margin:0;padding-top:1%;border:0; color:white; background:#111111;">
                <p style="text-align: center; font-size: 1.4rem; width: 100%">Made with love by <a href="https://brain-web.github.io">The BrainWeb</a><a style="font-weight: 300;" href="https://twitter.com/TheBrainWeb">&nbsp;&nbsp;<img style="width:1.8rem;transform:translate(0,0px);margin-right:5px;" src="./images/landing/twitter_white.png" /img>@TheBrainWeb</a>&nbsp; ‚ù§ &nbsp; Please respect the <a href="https://github.com/P1NTS/P1NTS.github.io/blob/main/CoC.md" target="_blank">PINTS Code of Conduct.</a></p>
            </div>

        </div> <!--q-app-->


        <div id="dpi" style="height: 1in;left: -100%;position: absolute;top: -100%;width: 1in;"></div>

        <script src="./js/sentry.min.js" data-lazy="no"></script>
        <!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script> -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
        <!-- <script src="./js/main.js"></script> -->

        <script src="https://cdn.jsdelivr.net/npm/vue@^2.0.0/dist/vue.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/quasar@1.9.10/dist/quasar.umd.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/quasar@1.9.10/dist/icon-set/svg-material-icons.umd.min.js"></script>

        <script defer src="https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth.js"></script>
        <link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/4.5.0/firebase-ui-auth.css" />
        <script defer src="https://www.gstatic.com/firebasejs/7.12.0/firebase-app.js"></script>
        <script defer src="https://www.gstatic.com/firebasejs/7.12.0/firebase-auth.js"></script>
        <script defer src="https://www.gstatic.com/firebasejs/7.12.0/firebase-database.js"></script>
        <script defer src="./js/init-firebase.js"></script>

        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="./community/brainweb.js"></script>
        
        <script type="module">

            const circleName = "BrainWeb";
            const skill =  "pints";
            const filterSkills = ["Information theory",
                                  "pints", skill].map((o)=>o.toLowerCase());
            const skills = [];

            function arr2dic(arr) {
                const dic = {};
                for(let item of arr) {
                    const {uid} = item;
                    dic[uid] = {}
                    for(let key of Object.keys(item)) {
                        if(key !== "uid") {
                            dic[uid][key] = item[key];
                        }
                    }
                }
                return dic;
            }

            function dic2arr(dic) {
                const arr = [];
                for(let uid of Object.keys(dic)) {
                    const item = {uid};
                    for(let key of Object.keys(dic[uid])) {
                        if(key!==uid) {
                            item[key] = dic[uid][key];
                        }
                    }
                    arr.push(item);
                }
                return arr;
            }

            function update(databaseDic) {
                if(app.uid === null) {
                    app.spinning = false;
                    return;
                }

                const { uid } = app;
                const str = databaseDic[uid];
                const obj = {};
                obj[uid] = str;
                firebase.database().ref(`circles/${circleName}`)
                    .update(obj)
                    .then(function(snapshot) {
                        app.spinning = false;
                        console.log('update: success');
                    }, function(error) {
                        app.spinning = false;
                        Sentry.captureException(error);
                        console.log('update: error', error);
                    });
            }

            function listen() {
                var circles = firebase.database().ref(`circles/${circleName}`);
                circles.on('value', async (s) => {
                    var circle = s.val();
                    if(circle === null) {
                        return;
                    }

                    databaseDicToPeopleArr(circle);
                    addCurrentUser();

                    const filteredPeople = 
                        app.people.filter(
                            (p) => (p.skills || []).some(
                                (s) => filterSkills.includes(s.trim()?.toLowerCase() || false)
                            )
                        )

                    console.log("Number of people in the graph:", filteredPeople.length);

                    if(filteredPeople.length > 5) {
                        await addBrainWebToElement(
                            "#network",
                            filteredPeople,
                            app.userDisplayName,
                            (user) => {
                                app.displayCard = true;
                                app.cardDisplayName = filteredPeople[user.index].displayname;
                                app.cardGitHubName = filteredPeople[user.index].username;
                                app.cardUID = filteredPeople[user.index].uid;
                                app.cardSkills = filteredPeople[user.index].skills;
                            }
                        );
                    } else {
                      console.log("Graph too small to proceed", filteredPeople.length);
                    }
                    app.spinning = false;

                    setTimeout(() => {
                        const p1 = document.getElementById('programDay1');
                        const p1Header = p1.getElementsByClassName('programDayHeader')[0];
                        const p2 = document.getElementById('programDay2');
                        const p2Header = p2.getElementsByClassName('programDayHeader')[0];

                        const before = document.getElementById('programDay1Before');
                        const after = document.getElementById('programDay2After');

                        function reworkTable() {
                            before.style.height = '0px';
                            after.style.height = '0px';

                            const beforeSize = (p2.clientHeight - p2Header.clientHeight);
                            const afterSize = (p1.clientHeight - p1Header.clientHeight);

                            before.style.height = beforeSize + 'px';
                            after.style.height = afterSize + 'px';
                        }

                        window.addEventListener('resize', reworkTable);
                        reworkTable();
                    }, 500);

                });
            }

            function databaseDicToPeopleArr(databaseDic) {
                const oldPeople = app.people;

                const incomingPeopleDic = databaseDic;
                const incomingPeopleArr = dic2arr(incomingPeopleDic);
                const newPeople = incomingPeopleArr.filter((person) => {
                    const oldUIDs = oldPeople.map((o)=> o.uid);
                    const includes = !(oldUIDs.includes(person.uid));
                    return includes;
                });
                for(let p of newPeople) {
                    if(typeof p.skills === "undefined") {
                        p.skills = [];
                    }
                    if(typeof p.displayname === "undefined") {
                        p.displayname = p.username;
                    }
                    for(let s of p.skills) {
                        if(!skills.includes(s)) {
                            skills.push(s);
                        }
                    }
                    app.people.push(p);
                }
            }

            function peopleArrToDatabaseDic(peopleArr) {
                const arr = [];
                for(let p of peopleArr) {
                    arr.push(JSON.parse(JSON.stringify(p)));
                }
                const dic = arr2dic(peopleArr)
                update(dic);
            }

            /**
             * fetch user information given the GitHub user id number
             */
            async function fetchUserInfoFromGitHub(uid) {
                let json, res;
                try {
                    res = await fetch(`https://api.github.com/user/${uid}`);
                    json = await res.json();
                } catch (err) {
                    throw new Error(err);
                }
                return json;
            }
            // add it to the window element so that init-firebase.js can see it
            window.fetchUserInfoFromGitHub = fetchUserInfoFromGitHub;

            async function addCurrentUser() {
                if(app.uid === null) {
                    return;
                }

                const index = app.people.map((o)=>o.uid).indexOf(app.uid);

                let isNewUser = (index === -1);
                let isUserWithoutDisplayName = (typeof app.userDisplayName === "undefined");
                if (isNewUser || isUserWithoutDisplayName) {
                    const {login} = await fetchUserInfoFromGitHub(app.uid);
                    const userDisplayName = app.userDisplayName || login;
                    app.userDisplayName = userDisplayName;
                    app.userGitHubName = login;
                    if (isNewUser) {
                        app.people.push({
                            displayname: userDisplayName,
                            username: login,
                            uid: app.uid,
                            skills: [skill]
                        });
                    }
                    peopleArrToDatabaseDic(app.people);
                } else {
                    if (!app.people[index].skills.map((s) => s.toLowerCase()).includes(skill)) {
                        app.people[index].skills.push(skill);
                        peopleArrToDatabaseDic(app.people);
                    }
                    app.userGitHubName = app.people[index].username;
                }

                document.getElementById('user').addEventListener(
                    'click',
                    function () {
                        app.displayCard = true;
                        app.cardDisplayName = app.people[index].displayname;
                        app.cardGitHubName = app.people[index].username;
                        app.cardUID = app.people[index].uid;
                        app.cardSkills = app.people[index].skills;
                    }
                )
            }

            Quasar.Dark.set(true);

            const app = window.app = new Vue({
                el: '#q-app',
                data () {
                    return {
                        people: [],
                        spinning: true,
                        options: skills,
                        userSignedIn: false,
                        uid: null,
                        userDisplayName: null,
                        userGitHubName: "",
                        userPicture: null,
                        displayCard: false,
                        displaySignIn: false,
                        cardDisplayName: "",
                        cardGitHubName: "",
                        cardUID: "",
                        cardSkills: []
                    }
                },
                methods: {
                    filterFn (val, update, abort) {
                        update(() => {
                            const needle = val.toLowerCase()
                            this.options = skills.filter(v => v.toLowerCase().indexOf(needle) > -1)
                        })
                    },
                    createValue (val, done) {
                        skills.push(val)
                        done(val)
                    },
                    deletePerson (e, index) {
                        this.people.splice(index,1)
                        event.stopPropagation()
                    },
                    draw (e) {
                        app.spinning = true;
                        peopleArrToDatabaseDic(this.people);
                    },
                    goTo (url) {
                        window.location = url
                    }
                }
            });
            window.addEventListener('load', () => {
                listen()
            })
        </script>

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <!-- <script async src="https://www.googletagmanager.com/gtag/js?id=G-CSPQ6DP1LY"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-CSPQ6DP1LY');
        </script> -->

    </body>
</html>
